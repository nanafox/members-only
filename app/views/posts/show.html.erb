<div class="m-auto">
  <div class="mb-2">
    <%= link_to "Back to posts", posts_path, class: "btn btn-secondary" %>
    <% if user_signed_in? && current_user == @post.user %>
      <%= link_to "Edit", edit_post_path(@post), class: "btn btn-info" %>
    <% end %>
    <% if user_signed_in? && current_user == @post.user %>
      <%= link_to "Delete",
      @post,
      data: {
        turbo_method: :delete,
        confirm: "Are you sure?",
        turbo_confirm: "Are you sure?",
      },
      class: "btn btn-danger" %>
    <% end %>
  </div>
</div>

<%= render @post %>

<% if user_signed_in? %>
  <%= render "comments/form", post: @post %>
<% else %>
  <%= button_to "Sign to add a comment!",
  new_user_session_path,
  class: "btn btn-warning" %>
<% end %>

<div class="mt-4 card p-4">
  <div class="card-body">
    <h2 class="card-title underline">Comments</h2>
    <hr>
    <% if @post.comments.count.zero? %>
      <h3>No comments</h3>
    <% else %>
      <h3><%= pluralize(@post.comments.count, "comment") %></h3>
      <%= render @post.comments.order(created_at: :desc) %>
    <% end %>
  </div>
</div>
